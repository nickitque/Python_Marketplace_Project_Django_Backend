{% extends 'core/base.html' %}

{% block title %} {{ post.title }} {% endblock %}
{% block content %}
{% block page_title %}

    <div class="container mx-auto">
    <h2 class="text-4xl font-bold dark:text-white">{{ post.title }}</h2>
{% endblock page_title %}

<img class="h-80 max-w-lg" src="{{ post.image_url|default_if_none:'/media/item_images/default.png' }}">

{% block page_content %}
    <p class="mb-3 text-left rtl:text-right text-gray-500 dark:text-gray-400">
        Опубликовано: {{ post.created_on.date }} | Категория:
        {% for category in post.categories.all %}
            <a class="font-medium text-blue-600 underline dark:text-blue-500 hover:no-underline" href="{% url 'blog:blog_category' category.name %}">{{ category.name }}</a>
            <!--Like Button-->
            <a href="like/"> <button type="button" class="ml-5 mt-2 pr-2 text-blue-700 border border-blue-700 hover:bg-blue-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-1 text-center inline-flex items-center dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:focus:ring-blue-800 dark:hover:bg-blue-500">
<svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"></path></svg>
<span class="sr-only">Like</span><p class="ml-1">{{ post.likes.count }}</p></button></a>
        {% endfor %}
        <div>{{ post.body | safe }}</div>
        <div class="">
            <form method="post">
                {% csrf_token %}
                <div>
                    <label>Add comment</label>
                </div>
                <div>
                    {{ comment_form.author }}
                </div>
                    <div>
                    {{ comment_form.body }}
                </div>
                <div>
                    <input type="hidden" name="post_id" id="post_id" value="{{ post.id }}">
                </div>
                <div>
                    <button type="submit">Add</button>
                </div>
            </form>

        </div>
        <h2 class="text-2xl">Комментарии:</h2>
        {% for comment in comments %}
        <div>от <b>{{ comment.author }} </b></div>
        <div> {{ comment.body }} </div>

        {% endfor %}
    </div>
{% endblock page_content %}
{% endblock %}

